{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/OITIC/GITHUB/Merchandising-front/merchandising-nts15/src/service/AuthService.js"],"sourcesContent":["import axios from \"axios\";\r\n//import authHeader from \"./AuthHeaderService\";\r\nimport jwt from 'jwt-decode'\r\n\r\n\r\n//const API_BACKEND = process.env.REACT_APP_API_BACKEND;\r\n\r\nconst API_URL = '/nomina/api/auth/signin';\r\n//, { headers: authHeader() }\r\nexport const login = (username, password) => {\r\n\treturn axios.post(API_URL, { username, password }).then((response) => {\r\n\r\n//\t\tconst token = response.data.token;\r\n//\t\ttoken && sessionStorage.setItem('user', JSON.stringify(response.data));\r\n\t\treturn response.data;\r\n\t});\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n\tconst user = sessionStorage.getItem('user');\r\n\tif (!user) {\r\n\t\treturn {}\r\n\t}\r\n\treturn JSON.parse(user);\r\n};\r\n\r\n\r\n"],"names":[],"mappings":";;;;AACA,+CAA+C;AAC/C;AAFA;;;AAKA,wDAAwD;AAExD,MAAM,UAAU;AAET,MAAM,QAAQ,CAAC,UAAU;IAC/B,OAAO,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,SAAS;QAAE;QAAU;IAAS,GAAG,IAAI,CAAC,CAAC;QAE1D,sCAAsC;QACtC,2EAA2E;QACzE,OAAO,SAAS,IAAI;IACrB;AACD;AAEO,MAAM,kBAAkB;IAC9B,MAAM,OAAO,eAAe,OAAO,CAAC;IACpC,IAAI,CAAC,MAAM;QACV,OAAO,CAAC;IACT;IACA,OAAO,KAAK,KAAK,CAAC;AACnB"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file://C%3A/OITIC/GITHUB/Merchandising-front/merchandising-nts15/src/app/%28full-page%29/auth/login/RecuperaContra.js"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { InputText, Button } from 'primereact';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { useTranslation } from 'react-i18next';\r\n//import UsuarioService from '@/service/UsuarioService';\r\n\r\nconst RecuperaContra = (props) => {\r\n\r\n    const [formData, setFormData] = useState({ email: \"\", });\r\n\r\n\r\n    const { control, handleSubmit, formState: { errors }, reset, getValues, setError\r\n    } = useForm({\r\n        defaultValues: useMemo(() => {\r\n            return formData;\r\n        }, [formData]),\r\n    });\r\n\r\n    useEffect(() => {\r\n        reset(formData);\r\n    }, [formData]);\r\n\r\n\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const { t } = useTranslation(\"translation\");\r\n    const usuarioService = new UsuarioService();\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        let { email } = getValues();\r\n\r\n        console.log('Email : ' + email.length);\r\n\r\n        if (!event.target.value.length) {\r\n            setError(\"email\", {\r\n                message: \"Escriba su usuario o correo electrónico\",\r\n            });\r\n            return;\r\n        }\r\n\r\n        usuarioService.actualizaPasswordEmail(event.target.value).then((data) => {\r\n            props.visible(false);\r\n        }).catch(function (error) {\r\n            if (error.response && error.response.status >= 400) {\r\n                const errores = error.response.data?.errores?.errores;\r\n                setError(\"email\", { message: errores || \"El usuario o correo electrónico no existe\" });\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    const getFormErrorMessage = (name) => {\r\n        return errors[name] && <small className=\"p-error\">{errors[name].message}</small>;\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-fluid\">\r\n            <div className=\"p-d-flex\">\r\n                <div className=\"card p-m-4\">\r\n                    <form id='recuperaContra-form' className=\"p-fluid\"  >\r\n                        <div className=\"field col-12\">\r\n                            <div className=\"p-card\">\r\n                                <div className=\"p-card-body\">\r\n                                    <span className=\"p-float-label p-input-icon-right\">\r\n                                        <i className=\"pi pi-envelope\" />\r\n                                        <Controller\r\n                                            name=\"email\"\r\n                                            control={control}\r\n                                            rules={{ required: t(\"login:required.email\") }}\r\n                                            render={({ field, fieldState }) => (\r\n                                                <InputText\r\n                                                    id={field.name}\r\n                                                    {...field}\r\n                                                    className={fieldState.error ? 'p-invalid' : ''}\r\n                                                    onChange={(e) => field.onChange(e.target.value)}\r\n                                                    onKeyDown={(event) => {\r\n                                                        if (event.key === \"Enter\") {\r\n                                                            event.preventDefault();\r\n                                                            onSubmit(event);\r\n                                                        }\r\n                                                    }}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                        <label htmlFor=\"email\">\r\n                                            {t(\"login:label.email\")}\r\n                                        </label>\r\n                                    </span>\r\n                                    {getFormErrorMessage(\"email\")}\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RecuperaContra;\r\n"],"names":[],"mappings":";;;;AAAA;AAIA;AADA;AACA;AAFA;;;;;;;;AAGA,wDAAwD;AAExD,MAAM,iBAAiB,CAAC;;IAEpB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,OAAO;IAAI;IAGtD,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAC/E,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAE;QACR,eAAe,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;8CAAE;gBACnB,OAAO;YACX;6CAAG;YAAC;SAAS;IACjB;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACN,MAAM;QACV;mCAAG;QAAC;KAAS;IAIb,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,mKAAA,CAAA,iBAAc,AAAD,EAAE;IAC7B,MAAM,iBAAiB,IAAI;IAE3B,MAAM,WAAW,CAAC;QACd,MAAM,cAAc;QACpB,IAAI,EAAE,KAAK,EAAE,GAAG;QAEhB,QAAQ,GAAG,CAAC,aAAa,MAAM,MAAM;QAErC,IAAI,CAAC,MAAM,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE;YAC5B,SAAS,SAAS;gBACd,SAAS;YACb;YACA;QACJ;QAEA,eAAe,sBAAsB,CAAC,MAAM,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC5D,MAAM,OAAO,CAAC;QAClB,GAAG,KAAK,CAAC,SAAU,KAAK;YACpB,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,IAAI,KAAK;gBAChD,MAAM,UAAU,MAAM,QAAQ,CAAC,IAAI,EAAE,SAAS;gBAC9C,SAAS,SAAS;oBAAE,SAAS,WAAW;gBAA4C;YACxF;QACJ;IAEJ;IAEA,MAAM,sBAAsB,CAAC;QACzB,OAAO,MAAM,CAAC,KAAK,kBAAI,6LAAC;YAAM,WAAU;sBAAW,MAAM,CAAC,KAAK,CAAC,OAAO;;;;;;IAC3E;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAK,IAAG;oBAAsB,WAAU;8BACrC,cAAA,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAK,WAAU;;0DACZ,6LAAC;gDAAE,WAAU;;;;;;0DACb,6LAAC,iKAAA,CAAA,aAAU;gDACP,MAAK;gDACL,SAAS;gDACT,OAAO;oDAAE,UAAU,EAAE;gDAAwB;gDAC7C,QAAQ,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,iBAC1B,6LAAC,gKAAA,CAAA,YAAS;wDACN,IAAI,MAAM,IAAI;wDACb,GAAG,KAAK;wDACT,WAAW,WAAW,KAAK,GAAG,cAAc;wDAC5C,UAAU,CAAC,IAAM,MAAM,QAAQ,CAAC,EAAE,MAAM,CAAC,KAAK;wDAC9C,WAAW,CAAC;4DACR,IAAI,MAAM,GAAG,KAAK,SAAS;gEACvB,MAAM,cAAc;gEACpB,SAAS;4DACb;wDACJ;;;;;;;;;;;0DAIZ,6LAAC;gDAAM,SAAQ;0DACV,EAAE;;;;;;;;;;;;oCAGV,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUzD;GA7FM;;QAME,iKAAA,CAAA,UAAO;QAaG,mKAAA,CAAA,iBAAc;;;KAnB1B;uCA+FS"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file://C%3A/OITIC/GITHUB/Merchandising-front/merchandising-nts15/src/app/%28full-page%29/auth/login/Login.js"],"sourcesContent":["\"use client\";\r\nimport {\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  useTransition,\r\n} from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport {\r\n  InputText,\r\n  Card,\r\n  Password,\r\n  Button,\r\n  Toast,\r\n  classNames,\r\n} from \"primereact\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Image from \"next/image\";\r\nimport \"primereact/resources/themes/lara-light-indigo/theme.css\";\r\nimport { login } from \"../../../../service/AuthService\";\r\nimport { LoginContext } from \"./LoginContext\";\r\nimport jwt from \"jwt-decode\";\r\nimport RecuperaContra from \"./RecuperaContra\";\r\nimport { Dialog } from \"primereact/dialog\";\r\n\r\n\r\nconst Login = () => {\r\n  const { t } = useTranslation([\"translation\", \"login\"]);\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [isRecoverPasswordDialogVisible, setIsRecoverPasswordDialogVisible] =\r\n    useState(false);\r\n  const toast = useRef(null);\r\n  const { setCurrentUser, handleSecurity, activeIndex, setActiveIndex } =\r\n    useContext(LoginContext);\r\n  const router = useRouter();\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleLogin = async (username, password) => {\r\n    sessionStorage.clear();\r\n    setCurrentUser(null);\r\n    console.log(JSON.stringify(formData));\r\n\r\n    login(username, password)\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        const token = response.token;\r\n        sessionStorage.setItem(\"token\", token);\r\n        handleSecurity();\r\n        setActiveIndex(0);\r\n      })\r\n      .catch(function (error) {\r\n        //      console.log(error.toJSON());\r\n        if (error.response) {\r\n          // La respuesta fue hecha y el servidor respondió con un código de estados\r\n          // que esta fuera del rango de 2xx\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n          toast.current.show({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail: \"Error para inicio de sesión\",\r\n            life: 3000,\r\n          });\r\n        }\r\n      });\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const btn_anterior = () => {\r\n    setActiveIndex(0);\r\n  };\r\n\r\n  const {\r\n    control,\r\n    formState: { errors },\r\n    handleSubmit,\r\n    reset,\r\n    clearErrors,\r\n    getValues,\r\n    setError,\r\n    trigger,\r\n  } = useForm({\r\n    defaultValues: useMemo(() => {\r\n      return formData;\r\n    }, [formData]),\r\n  });\r\n\r\n  useEffect(() => {\r\n    reset(formData);\r\n  }, [formData]);\r\n\r\n  useEffect(() => {\r\n    setActiveIndex(0);\r\n  }, []);\r\n\r\n  const btn_siguiente = (event) => {\r\n\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n      let { username } = getValues();\r\n      let formDataCopy = Object.assign({}, formData);\r\n      formDataCopy['username'] = username;\r\n      setFormData(formDataCopy);\r\n\r\n      if (!activeIndex && !isRecoverPasswordDialogVisible && !username.length) {\r\n        setError(\"username\", {\r\n          message: \"Escriba su usuario o correo electrónico\",\r\n        });\r\n        return;\r\n      }\r\n      setActiveIndex(1);\r\n    }\r\n  };\r\n\r\n  const btn_pwd = (event) => {\r\n\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n      let { password } = getValues();\r\n\r\n\r\n      if (!password.length) {\r\n        setError(\"password\", {\r\n          message: \"Escriba su contraseña\",\r\n        });\r\n        return;\r\n      }\r\n      handleLogin(formData.username, password);\r\n    }\r\n  };\r\n\r\n\r\n  const getFormErrorMessage = (name) => {\r\n    return (\r\n      errors[name] && <small className=\"p-error\">{errors[name].message}</small>\r\n    );\r\n  };\r\n\r\n  const showError = (summary, detalle) => {\r\n    toast.current.show({\r\n      severity: \"error\",\r\n      summary: summary,\r\n      detail: detalle,\r\n      life: 4000,\r\n    });\r\n  };\r\n\r\n  const header = (\r\n    <>\r\n      <div className=\"flex justify-content-center\">\r\n        <Image\r\n          src=\"/cdch_azul.png\"\r\n          alt=\"Picture of the author\"\r\n          width={100}\r\n          height={100}\r\n          priority\r\n          style={{ width: \"100px\", height: \"auto\" }}\r\n        />\r\n      </div>\r\n      {activeIndex > 0 && (\r\n        <>\r\n          <div className=\"p-col-12 p-md-8\">\r\n            <Button\r\n              icon=\"pi pi-arrow-left\"\r\n              className=\"p-button-text\"\r\n              aria-label=\"pi-arrow-left\"\r\n              onClick={() => btn_anterior()}\r\n              label={`Usuario: ` + formData.username}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n\r\n  const title = (\r\n    <>\r\n      {activeIndex === 0 && <label>{t(\"login:rotulo.login\")}</label>}\r\n      {activeIndex === 1 && <label>{t(\"login:rotulo.contra\")}</label>}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"cover\",\r\n        minHeight: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n      }}\r\n    >\r\n      <Toast ref={toast}></Toast>\r\n\r\n      <Card header={header} title={title} className=\"sm:w-25rem\">\r\n        <form id=\"login-form\" className=\"fluid formgrid grid\">\r\n          {activeIndex === 0 && (\r\n            <>\r\n              <div className=\"field col-12\">\r\n                <Controller\r\n                  name=\"username\"\r\n                  control={control}\r\n                  rules={{ required: t(\"login:required.username\") }}\r\n                  render={({ field, fieldState }) => (\r\n                    <>\r\n                      <label\r\n                        className={classNames({ \"p-error\": errors.username })}\r\n                        htmlFor={field.name}\r\n                      ></label>\r\n                      <span className=\"p-float-label p-input-icon-right\">\r\n                        <i className=\"pi pi-user\" />\r\n                        <InputText\r\n                          id={field.name}\r\n                          {...field}\r\n                          className={classNames({\r\n                            \"p-invalid\": fieldState.invalid,\r\n                          })}\r\n                          onKeyDown={(e) => btn_siguiente(e)}\r\n                          onChange={(e) => {\r\n                            field.onChange(e.target.value);\r\n                          }}\r\n                        />\r\n                        <label htmlFor={field.name}>\r\n                          {t(\"login:label.usuario\")}\r\n                        </label>\r\n                      </span>\r\n                      {getFormErrorMessage(field.name)}\r\n                    </>\r\n                  )}\r\n                ></Controller>\r\n              </div>\r\n              <div className=\"field col-12 p-jc-center \">\r\n                <Button\r\n                  type=\"button\"\r\n                  label={t(\"login:label.recuperaContra\")}\r\n                  className=\"p-button-text\"\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    setIsRecoverPasswordDialogVisible(true);\r\n                  }}\r\n                  style={{ fontSize: \"0.9em\" }}\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {activeIndex === 1 && (\r\n            <>\r\n              <div className=\"p-field p-col-12 p-md-12\">\r\n                <Controller\r\n                  name=\"password\"\r\n                  control={control}\r\n                  rules={{ required: t(\"login:required.password\") }}\r\n                  render={({ field, fieldState }) => (\r\n                    <>\r\n                      <label\r\n                        className={classNames({ \"p-error\": errors.password })}\r\n                        htmlFor={field.name}\r\n                      ></label>\r\n                      <span className=\"p-float-label p-input-icon-right\">\r\n                        <Password\r\n                          id={field.name}\r\n                          {...field}\r\n                          className={classNames({\r\n                            \"p-invalid\": fieldState.error,\r\n                          })}\r\n                          onKeyDown={(e) => btn_pwd(e)}\r\n                          onChange={(e) => {\r\n                            field.onChange(e.target.value);\r\n                          }}\r\n                          feedback={false}\r\n                          toggleMask\r\n                        />\r\n                        <label htmlFor={field.name}>\r\n                          {t(\"login:label.password\")}\r\n                        </label>\r\n                      </span>\r\n                      {getFormErrorMessage(field.name)}\r\n                    </>\r\n                  )}\r\n                ></Controller>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n        </form>\r\n\r\n      </Card>\r\n      <Dialog\r\n        header={t('login:rotulo.recuperaContra')}\r\n        className='p-fluid'\r\n        style={{ width: '30vw' }}\r\n        modal={true}\r\n        visible={isRecoverPasswordDialogVisible}\r\n        blockScroll={false}\r\n        onHide={(e) => {\r\n          reset();\r\n          clearErrors();\r\n          setIsRecoverPasswordDialogVisible(false);\r\n        }}\r\n      >\r\n        <RecuperaContra visible={setIsRecoverPasswordDialogVisible} />\r\n\r\n      </Dialog>\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 715, "column": 0}, "map": {"version":3,"sources":["file://C%3A/OITIC/GITHUB/Merchandising-front/merchandising-nts15/src/app/%28full-page%29/auth/login/LoginContext.js"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect, createContext } from 'react';\r\nimport { isAuthenticated } from '../../../../service/AuthService';\r\nimport Login from './Login';\r\n\r\nexport const LoginContext = createContext();\r\n\r\nexport const LoginProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [superAdmin, setSuperAdmin] = useState(false);\r\n    const [administrador, setAdministrador] = useState(false);\r\n    const [autorizador, setAutorizador] = useState(false);\r\n    const [solicitante, setSolicitante] = useState(false);\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [configuracion, setConfiguracion] = useState({});\r\n\r\n    // Valores predeterminados de la configuración\r\n    const defaultValuesConfiguracion = {\r\n        periodo: null,\r\n        subPeriodo: null,\r\n        lstNivel: null,\r\n        lstCarrera: null,\r\n    };\r\n\r\n    // Verifica si el usuario está autenticado\r\n    useEffect(() => {\r\n        const checkLoggedIn = async () => {\r\n            let cuser = isAuthenticated();\r\n            if (cuser === null) {\r\n                sessionStorage.setItem('user', '');\r\n                cuser = '';\r\n            }\r\n            setCurrentUser(cuser); // Aquí se decodifica el user, el cual es el token\r\n        };\r\n\r\n        checkLoggedIn();\r\n    }, []);\r\n\r\n    // Función para manejar los roles de seguridad\r\n    const handleSecurity = () => {\r\n        const token = currentUser?.token;\r\n        if (token) {\r\n            setSuperAdmin(token?.['Super admin'] || false);\r\n            setAdministrador(token?.Administrador || false);\r\n            setAutorizador(token?.Autorizador || false);\r\n            setSolicitante(token?.Solicitante || false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <LoginContext.Provider\r\n            value={{\r\n                currentUser,\r\n                setCurrentUser,\r\n                superAdmin,\r\n                administrador,\r\n                autorizador,\r\n                solicitante,\r\n                handleSecurity,\r\n                activeIndex,\r\n                setActiveIndex,\r\n                configuracion,\r\n                setConfiguracion,\r\n                defaultValuesConfiguracion,\r\n            }}\r\n        >\r\n            {currentUser?.token ? children : <Login />}\r\n        </LoginContext.Provider>\r\n    );\r\n};\r\n\r\nexport default LoginContext;\r\n"],"names":[],"mappings":";;;;;;AACA;AACA;AACA;;;AAHA;;;;AAKO,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAEjC,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE;;IACtC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAC;IAEpD,8CAA8C;IAC9C,MAAM,6BAA6B;QAC/B,SAAS;QACT,YAAY;QACZ,UAAU;QACV,YAAY;IAChB;IAEA,0CAA0C;IAC1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACN,MAAM;yDAAgB;oBAClB,IAAI,QAAQ,CAAA,GAAA,gIAAA,CAAA,kBAAe,AAAD;oBAC1B,IAAI,UAAU,MAAM;wBAChB,eAAe,OAAO,CAAC,QAAQ;wBAC/B,QAAQ;oBACZ;oBACA,eAAe,QAAQ,kDAAkD;gBAC7E;;YAEA;QACJ;kCAAG,EAAE;IAEL,8CAA8C;IAC9C,MAAM,iBAAiB;QACnB,MAAM,QAAQ,aAAa;QAC3B,IAAI,OAAO;YACP,cAAc,OAAO,CAAC,cAAc,IAAI;YACxC,iBAAiB,OAAO,iBAAiB;YACzC,eAAe,OAAO,eAAe;YACrC,eAAe,OAAO,eAAe;QACzC;IACJ;IAEA,qBACI,6LAAC,aAAa,QAAQ;QAClB,OAAO;YACH;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACJ;kBAEC,aAAa,QAAQ,yBAAW,6LAAC,2JAAA,CAAA,UAAK;;;;;;;;;;AAGnD;GA9Da;KAAA;uCAgEE"}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":["file://C%3A/OITIC/GITHUB/Merchandising-front/merchandising-nts15/src/layout/context/layoutcontext.tsx"],"sourcesContent":["\"use client\";\nimport type {\n    Breadcrumb,\n    ChildContainerProps,\n    LayoutConfig,\n    LayoutContextProps,\n    LayoutState,\n} from \"@/types\";\nimport Head from \"next/head\";\nimport React, { useState } from \"react\";\n\nexport const LayoutContext = React.createContext({} as LayoutContextProps);\n\nexport const LayoutProvider = (props: ChildContainerProps) => {\n    const [breadcrumbs, setBreadcrumbs] = useState<Breadcrumb[]>([]);\n    const [layoutConfig, setLayoutConfig] = useState<LayoutConfig>({\n        ripple: false,\n        inputStyle: \"outlined\",\n        menuMode: \"static\",\n        menuTheme: \"colorScheme\",\n        colorScheme: \"light\",\n        theme: \"indigo\",\n        scale: 14,\n    });\n\n    const [layoutState, setLayoutState] = useState<LayoutState>({\n        staticMenuDesktopInactive: false,\n        overlayMenuActive: false,\n        overlaySubmenuActive: false,\n        profileSidebarVisible: false,\n        configSidebarVisible: false,\n        staticMenuMobileActive: false,\n        menuHoverActive: false,\n        resetMenu: false,\n        sidebarActive: false,\n        anchored: false,\n    });\n\n    const onMenuToggle = () => {\n        if (isOverlay()) {\n            setLayoutState((prevLayoutState) => ({\n                ...prevLayoutState,\n                overlayMenuActive: !prevLayoutState.overlayMenuActive,\n            }));\n        }\n\n        if (isDesktop()) {\n            setLayoutState((prevLayoutState) => ({\n                ...prevLayoutState,\n                staticMenuDesktopInactive:\n                    !prevLayoutState.staticMenuDesktopInactive,\n            }));\n        } else {\n            setLayoutState((prevLayoutState) => ({\n                ...prevLayoutState,\n                staticMenuMobileActive: !prevLayoutState.staticMenuMobileActive,\n            }));\n        }\n    };\n\n    const showConfigSidebar = () => {\n        setLayoutState((prevLayoutState) => ({\n            ...prevLayoutState,\n            configSidebarVisible: true,\n        }));\n    };\n\n    const showProfileSidebar = () => {\n        setLayoutState((prevLayoutState) => ({\n            ...prevLayoutState,\n            profileSidebarVisible: !prevLayoutState.profileSidebarVisible,\n        }));\n    };\n\n    const isOverlay = () => {\n        return layoutConfig.menuMode === \"overlay\";\n    };\n\n    const isSlim = () => {\n        return layoutConfig.menuMode === \"slim\";\n    };\n\n    const isSlimPlus = () => {\n        return layoutConfig.menuMode === \"slim-plus\";\n    };\n\n    const isHorizontal = () => {\n        return layoutConfig.menuMode === \"horizontal\";\n    };\n\n    const isDesktop = () => {\n        return window.innerWidth > 991;\n    };\n\n    const value = {\n        layoutConfig,\n        setLayoutConfig,\n        layoutState,\n        setLayoutState,\n        onMenuToggle,\n        showConfigSidebar,\n        showProfileSidebar,\n        isSlim,\n        isSlimPlus,\n        isHorizontal,\n        isDesktop,\n        breadcrumbs,\n        setBreadcrumbs,\n    };\n\n    return (\n        <LayoutContext.Provider value={value}>\n            <>\n                <Head>\n                    <title>PrimeReact - APOLLO</title>\n                    <meta charSet=\"UTF-8\" />\n                    <meta\n                        name=\"description\"\n                        content=\"The ultimate collection of design-agnostic, flexible and accessible React UI Components.\"\n                    />\n                    <meta name=\"robots\" content=\"index, follow\" />\n                    <meta\n                        name=\"viewport\"\n                        content=\"initial-scale=1, width=device-width\"\n                    />\n                    <meta property=\"og:type\" content=\"website\"></meta>\n                    <meta\n                        property=\"og:title\"\n                        content=\"Apollo by PrimeReact for Next.js\"\n                    ></meta>\n                    <meta\n                        property=\"og:url\"\n                        content=\"https://www.primefaces.org/apollo-react\"\n                    ></meta>\n                    <meta\n                        property=\"og:description\"\n                        content=\"The ultimate collection of design-agnostic, flexible and accessible React UI Components.\"\n                    />\n                    <meta\n                        property=\"og:image\"\n                        content=\"https://www.primefaces.org/static/social/apollo-react.png\"\n                    ></meta>\n                    <meta property=\"og:ttl\" content=\"604800\"></meta>\n                    <link\n                        rel=\"icon\"\n                        href={`/favicon.ico`}\n                        type=\"image/x-icon\"\n                    ></link>\n                </Head>\n                {props.children}\n            </>\n        </LayoutContext.Provider>\n    );\n};\n"],"names":[],"mappings":";;;;;AAQA;AACA;;;AATA;;;AAWO,MAAM,8BAAgB,6JAAA,CAAA,UAAK,CAAC,aAAa,CAAC,CAAC;AAE3C,MAAM,iBAAiB,CAAC;;IAC3B,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB,EAAE;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB;QAC3D,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,WAAW;QACX,aAAa;QACb,OAAO;QACP,OAAO;IACX;IAEA,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;QACxD,2BAA2B;QAC3B,mBAAmB;QACnB,sBAAsB;QACtB,uBAAuB;QACvB,sBAAsB;QACtB,wBAAwB;QACxB,iBAAiB;QACjB,WAAW;QACX,eAAe;QACf,UAAU;IACd;IAEA,MAAM,eAAe;QACjB,IAAI,aAAa;YACb,eAAe,CAAC,kBAAoB,CAAC;oBACjC,GAAG,eAAe;oBAClB,mBAAmB,CAAC,gBAAgB,iBAAiB;gBACzD,CAAC;QACL;QAEA,IAAI,aAAa;YACb,eAAe,CAAC,kBAAoB,CAAC;oBACjC,GAAG,eAAe;oBAClB,2BACI,CAAC,gBAAgB,yBAAyB;gBAClD,CAAC;QACL,OAAO;YACH,eAAe,CAAC,kBAAoB,CAAC;oBACjC,GAAG,eAAe;oBAClB,wBAAwB,CAAC,gBAAgB,sBAAsB;gBACnE,CAAC;QACL;IACJ;IAEA,MAAM,oBAAoB;QACtB,eAAe,CAAC,kBAAoB,CAAC;gBACjC,GAAG,eAAe;gBAClB,sBAAsB;YAC1B,CAAC;IACL;IAEA,MAAM,qBAAqB;QACvB,eAAe,CAAC,kBAAoB,CAAC;gBACjC,GAAG,eAAe;gBAClB,uBAAuB,CAAC,gBAAgB,qBAAqB;YACjE,CAAC;IACL;IAEA,MAAM,YAAY;QACd,OAAO,aAAa,QAAQ,KAAK;IACrC;IAEA,MAAM,SAAS;QACX,OAAO,aAAa,QAAQ,KAAK;IACrC;IAEA,MAAM,aAAa;QACf,OAAO,aAAa,QAAQ,KAAK;IACrC;IAEA,MAAM,eAAe;QACjB,OAAO,aAAa,QAAQ,KAAK;IACrC;IAEA,MAAM,YAAY;QACd,OAAO,OAAO,UAAU,GAAG;IAC/B;IAEA,MAAM,QAAQ;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;IAEA,qBACI,6LAAC,cAAc,QAAQ;QAAC,OAAO;kBAC3B,cAAA;;8BACI,6LAAC,uKAAA,CAAA,UAAI;;sCACD,6LAAC;sCAAM;;;;;;sCACP,6LAAC;4BAAK,SAAQ;;;;;;sCACd,6LAAC;4BACG,MAAK;4BACL,SAAQ;;;;;;sCAEZ,6LAAC;4BAAK,MAAK;4BAAS,SAAQ;;;;;;sCAC5B,6LAAC;4BACG,MAAK;4BACL,SAAQ;;;;;;sCAEZ,6LAAC;4BAAK,UAAS;4BAAU,SAAQ;;;;;;sCACjC,6LAAC;4BACG,UAAS;4BACT,SAAQ;;;;;;sCAEZ,6LAAC;4BACG,UAAS;4BACT,SAAQ;;;;;;sCAEZ,6LAAC;4BACG,UAAS;4BACT,SAAQ;;;;;;sCAEZ,6LAAC;4BACG,UAAS;4BACT,SAAQ;;;;;;sCAEZ,6LAAC;4BAAK,UAAS;4BAAS,SAAQ;;;;;;sCAChC,6LAAC;4BACG,KAAI;4BACJ,MAAM,CAAC,YAAY,CAAC;4BACpB,MAAK;;;;;;;;;;;;gBAGZ,MAAM,QAAQ;;;;;;;;AAI/B;GA5Ia;KAAA"}},
    {"offset": {"line": 1034, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}